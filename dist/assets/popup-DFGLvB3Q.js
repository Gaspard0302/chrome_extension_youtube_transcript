import"./modulepreload-polyfill-B5Qt9EMX.js";import{c as f,j as o,r as c}from"./client-B-OClMmu.js";import{D as u,P as a}from"./providers-B-uW_wjG.js";const e={bg:"#0f0f0f",bgCard:"#212121",border:"rgba(255,255,255,0.1)",text:"#f1f1f1",textSecondary:"#aaa",accent:"#ff0000",accentSuccess:"#166534",radius:12,radiusChip:18};function y(){var g;const[n,d]=c.useState(u),[p,x]=c.useState(!1);c.useEffect(()=>{chrome.runtime.sendMessage({type:"GET_SETTINGS"},t=>{if(!t)return;const i=t;if(i.selectedModel===""&&i.apiKeys&&typeof i.apiKeys=="object"){const r=a.find(s=>i.apiKeys[s.id]&&String(i.apiKeys[s.id]).trim().length>0);if(r){d({...i,selectedProvider:r.id,selectedModel:r.models[0].id});return}}d(i)})},[]);function b(){chrome.runtime.sendMessage({type:"SAVE_SETTINGS",payload:n},()=>{x(!0),setTimeout(()=>x(!1),2e3)})}function h(t,i){d(r=>{const s={...r,apiKeys:{...r.apiKeys,[t]:i}};if(i.trim().length>0&&r.selectedModel===""){const l=a.find(m=>m.id===t);l&&(s.selectedProvider=l.id,s.selectedModel=l.models[0].id)}return s})}return o.jsxs("div",{style:{width:360,minHeight:320,padding:"20px 16px",background:e.bg,color:e.text,fontFamily:"'Roboto', 'Arial', sans-serif",fontSize:13,boxSizing:"border-box",border:`1px solid ${e.border}`,borderRadius:e.radius},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:20},children:[o.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:e.accent,flexShrink:0}}),o.jsx("span",{style:{fontWeight:700,fontSize:16},children:"TranscriptAI"})]}),o.jsxs("section",{style:{marginBottom:20,paddingBottom:16,borderBottom:`1px solid ${e.border}`},children:[o.jsx("h2",{style:{fontSize:12,fontWeight:700,color:e.text,margin:"0 0 12px",textTransform:"uppercase",letterSpacing:"0.05em"},children:"API Keys"}),a.filter(t=>t.requiresKey).map(t=>o.jsxs("div",{style:{marginBottom:10},children:[o.jsx("label",{style:{display:"block",fontSize:11,color:e.textSecondary,marginBottom:4,fontWeight:600},children:t.label}),o.jsx("input",{type:"password",value:n.apiKeys[t.id]??"",onChange:i=>h(t.id,i.target.value),placeholder:`${t.label} API keyâ€¦`,style:{width:"100%",background:e.bgCard,border:`1px solid ${e.border}`,borderRadius:e.radiusChip,padding:"10px 14px",color:e.text,fontSize:13,outline:"none",boxSizing:"border-box",fontFamily:"inherit"}})]},t.id))]}),o.jsxs("section",{style:{marginBottom:20,paddingBottom:16,borderBottom:`1px solid ${e.border}`},children:[o.jsx("h2",{style:{fontSize:12,fontWeight:700,color:e.text,margin:"0 0 12px",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Ollama (local)"}),o.jsx("label",{style:{display:"block",fontSize:11,color:e.textSecondary,marginBottom:4,fontWeight:600},children:"Base URL"}),o.jsx("input",{type:"text",value:n.ollamaBaseUrl,onChange:t=>d(i=>({...i,ollamaBaseUrl:t.target.value})),placeholder:"http://localhost:11434",style:{width:"100%",background:e.bgCard,border:`1px solid ${e.border}`,borderRadius:e.radiusChip,padding:"10px 14px",color:e.text,fontSize:13,outline:"none",boxSizing:"border-box",fontFamily:"inherit"}})]}),o.jsxs("section",{style:{marginBottom:20,paddingBottom:16,borderBottom:`1px solid ${e.border}`},children:[o.jsx("h2",{style:{fontSize:12,fontWeight:700,color:e.text,margin:"0 0 12px",textTransform:"uppercase",letterSpacing:"0.05em"},children:"AI Model"}),o.jsx("label",{style:{display:"block",fontSize:11,color:e.textSecondary,marginBottom:4,fontWeight:600},children:"Provider"}),o.jsx("select",{value:n.selectedProvider,onChange:t=>{const i=a.find(r=>r.id===t.target.value);d(r=>({...r,selectedProvider:i.id,selectedModel:i.models[0].id}))},style:{width:"100%",background:e.bgCard,border:`1px solid ${e.border}`,borderRadius:e.radiusChip,padding:"10px 14px",color:e.text,fontSize:13,marginBottom:12,cursor:"pointer",outline:"none",fontFamily:"inherit",boxSizing:"border-box"},children:a.map(t=>o.jsx("option",{value:t.id,children:t.label},t.id))}),o.jsx("label",{style:{display:"block",fontSize:11,color:e.textSecondary,marginBottom:4,fontWeight:600},children:"Model"}),o.jsx("select",{value:n.selectedModel,onChange:t=>d(i=>({...i,selectedModel:t.target.value})),style:{width:"100%",background:e.bgCard,border:`1px solid ${e.border}`,borderRadius:e.radiusChip,padding:"10px 14px",color:e.text,fontSize:13,cursor:"pointer",outline:"none",fontFamily:"inherit",boxSizing:"border-box"},children:(((g=a.find(t=>t.id===n.selectedProvider))==null?void 0:g.models)??[]).map(t=>o.jsx("option",{value:t.id,children:t.label},t.id))})]}),o.jsxs("section",{style:{marginBottom:20},children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:10,cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:n.semanticSearchEnabled,onChange:t=>d(i=>({...i,semanticSearchEnabled:t.target.checked})),style:{accentColor:e.accent}}),o.jsx("span",{style:{fontSize:13,color:e.text},children:"Enable semantic (AI) search in transcript"})]}),o.jsx("p",{style:{margin:"4px 0 0 28px",fontSize:11,color:e.textSecondary},children:"Downloads a 23MB model once for meaning-based search."})]}),o.jsx("button",{type:"button",onClick:b,style:{width:"100%",padding:"12px 16px",background:p?e.accentSuccess:e.accent,border:"none",borderRadius:e.radius,color:"#fff",fontSize:14,fontWeight:700,cursor:"pointer",transition:"background 0.2s",fontFamily:"inherit"},children:p?"Saved!":"Save settings"})]})}f(document.getElementById("root")).render(o.jsx(y,{}));
